<!DOCTYPE html>
<html lang="es" translate="no">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presidencia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./president/css/stylesheet.css">
</head>

<body class="bg-body-secondary">
    <div class="shadow">
        <div class="row">
            <div class="col-md-11">
                <img src="./img/encabezado.png" class="img-fluid" alt="Imagen">
            </div>
        </div>
    </div>
    <div class="col">
        <div class="p-4">
            <div class="container-fluid shadow p-3 mb-5 bg-light rounded mt-4">
                <div class="row mt-4 mb-4">
                    <!-- Gráfica de Barras -->
                    <div class="col-sm-6 col-md-5 col-lg-6">
                        <div id="barChart"></div>
                    </div>
                    <!-- Gráfica de Dona -->
                    <div class="col-sm-4 col-md-5 col-lg-5 d-flex justify-content-center">
                        <div id="chart_rendimiento"></div>
                    </div>
                    <div class="col-sm-2 col-md-2 col-lg-1 d-flex justify-content-end">
                        <!--
                         <div style="margin-top: 0; margin-bottom: auto;">
                            <img src="./img/pdf.png" class="img-fluid me-2"
                                style="width: calc(1vh + 2.5vw); cursor: pointer;" title="Ver Reporte General"
                                id="verPdfGeneral" onclick="openPDF('./docs/General.pdf?v=1.0')">
                        </div>
                        -->
                    </div>
                </div>
            </div>
            <!-- Mejores y Peores Rendimientos -->
            <div class="shadow p-3 mb-5 bg-light rounded mt-4">
                <div class="row mb-4">
                    <div class="col-sm-1 col-md-1 col-lg-1"></div>
                    <div class="col-sm-5 col-md-5 col-lg-5">
                        <h1 class="text-center mb-4" style="background:#60c34c; color:#ffff;">Mejores</h1>
                        <ul class="list-group list-group-flush text-center" id="mejoresList">
                            <!-- Los elementos serán añadidos dinámicamente aquí -->
                        </ul>
                    </div>
                    <div class="col-sm-5 col-md-5 col-lg-5">
                        <h1 class="text-center mb-4" style="background:#b63329; color:#ffff;">Peores</h1>
                        <ul class="list-group list-group-flush text-center" id="peoresList">
                            <!-- Los elementos serán añadidos dinámicamente aquí -->
                        </ul>
                    </div>
                    <div class="col-sm-1 col-md-1 col-lg-1 d-flex justify-content-end">
                        <!-- Aquí puedes poner un ícono o un botón para exportar a PDF si es necesario -->
                    </div>
                </div>
            </div>

        </div>

        <!--Graficas por dependencia-->
        <div class="shadow p-3 mb-5 bg-light rounded mt-4">
            <!-- Dependencia 1: TESORERIA -->
            <div class="row mt-4 mb-4 justify-content-center">
                <!-- Dependencia 1: CIUDAD -->
                <div class="col-md-4 ">
                    <div class="chart-title h3">De la Ciudad</div>
                    <div id="Ciudad"></div>
                    <div class="text-center">
                        <button class="ir shadow" data-producto="Ciudad">
                            <img src="./img/flecha.png" alt="Ver" />
                        </button>
                    </div>
                </div>
                <!-- Dependencia 2: SOCIAL -->
                <div class="col-md-4 text-center">
                    <div class="chart-title h3">Social y de Resultados</div>
                    <div id="Social_y_de_Resultados"></div>
                    <button class="ir shadow" data-producto="Social">
                        <img src="./img/flecha.png" alt="Ver" />
                    </button>
                </div>
            </div>
            <!-- Dependencia 4: DESARROLLO ECONÓMICO, TURÍSTICO Y ARTESANAL -->
            <div class="row mt-4 mb-4 justify-content-center">
                <div class="col-md-4">
                    <div class="chart-title h3">Legal y de Planeación</div>
                    <div id="Legal_y_Planeacion"></div>
                    <div class="text-center">
                        <button class="ir shadow" data-producto="Legal">
                            <img src="./img/flecha.png" alt="Ver" />
                        </button>
                    </div>
                </div>
                <!-- Dependencia 3: ADMINISTRATIVO -->
                <div class="col-md-4 text-center">
                    <div class="chart-title h3">Administrativo Financiero</div>
                    <div id="Administrativo_Financiero"></div>
                    <button class="ir shadow" data-producto="Administrativo">
                        <img src="./img/flecha.png" alt="Ver" />
                    </button>
                </div>
                <!-- Dependencia 5: DESARROLLO SOCIAL -->
                <div class="col-md-4 text-center">
                    <div class="chart-title h3">Atención a Grupos Especiales</div>
                    <div id="Atencion_a_grupos_especiales"></div>
                    <button class="ir shadow" data-producto="Atencion">
                        <img src="./img/flecha.png" alt="Ver" />
                    </button>
                </div>
            </div>
        </div>
    </div>
    </div>
    <script>
        function openPDF(url) {
            window.open(url, '_blank');
        }
        document.addEventListener('DOMContentLoaded', function () {
            // Función para cargar los datos desde el JSON y actualizar las listas de mejores y peores
            function cargarDatos() {
                const url = "https://horus-metepec.github.io/Data/resultados.json";

                fetch(url)
                    .then(response => response.json())
                    .then(data => {
                        // Verificar el contenido de los datos
                        console.log('Datos JSON:', data);

                        const mejores = data["Mejores Rendimientos"] || [];
                        const peores = data["Peores Rendimientos"] || [];

                        // Limpiar las listas antes de añadir los nuevos datos
                        document.getElementById('mejoresList').innerHTML = '';
                        document.getElementById('peoresList').innerHTML = '';

                        // Verificar los elementos que llegan en las listas de "Mejores" y "Peores"
                        console.log('Mejores:', mejores);
                        console.log('Peores:', peores);

                        // Añadir los elementos de "Mejores" a la lista
                        mejores.forEach(function (item, index) {
                            console.log('Añadiendo a Mejores:', item);
                            const li = document.createElement('li');
                            li.classList.add('list-group-item', 'bg-light');
                            li.style.color = '#204f7b';

                            // Agregar la medalla solo al primer elemento
                            if (index === 0) {
                                li.innerHTML = `<h2><img src="img/medalla.png" class="img-fluid me-2" style="width:25px;" alt="">${item.Direccion}</h2>`;
                            } else {
                                li.innerHTML = `<h2>${item.Direccion}</h2>`;
                            }

                            document.getElementById('mejoresList').appendChild(li);
                        });

                        // Añadir los elementos de "Peores" a la lista
                        peores.forEach(function (item, index) {
                            console.log('Añadiendo a Peores:', item);
                            const li = document.createElement('li');
                            li.classList.add('list-group-item', 'bg-light');
                            li.style.color = '#204f7b';
                            li.innerHTML = `<h2>${item.Direccion}</h2>`;
                            document.getElementById('peoresList').appendChild(li);
                        });
                    })
                    .catch(error => {
                        console.error("Error al obtener el JSON:", error);
                    });
            }

            // Llamar a la función cargarDatos para cargar los datos y actualizar las listas
            cargarDatos();
        });

    </script>

    <!-- Bootstrap JS (asegúrate de incluir Popper.js si estás usando Bootstrap 4) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Tu script personalizado -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="./president/js/GraficaBarras.js?v=1.0"></script>
    <script src="./president/js/GraficaDona.js?v=1.0"></script>
    <script src="./president/js/GraficasDependencias.js?v=1.0"></script>
    <script src="./president/js/Hipervinculos.js?v=1.0"></script>
    <!--<script src="./js/Funcionalidad.js"></script>-->
</body>

</html>
